import base64
exec(base64.b64decode("IyBTb3VyY2UgR2VuZXJhdGVkIHdpdGggRGVjb21weWxlKysKIyBGaWxlOiB3aXRob3V0LnB5YyAoUHl0aG9uIDIuNykKI0RlY29tcGlsZSBieSBGTEFNRSBOQUlNCgoKdHJ5OgogICAgaW1wb3J0IG9zCiAgICBpbXBvcnQgc3lzCiAgICBpbXBvcnQgdGltZQogICAgaW1wb3J0IGRhdGV0aW1lCiAgICBpbXBvcnQgcmFuZG9tCiAgICBpbXBvcnQgaGFzaGxpYgogICAgaW1wb3J0IHJlCiAgICBpbXBvcnQgdGhyZWFkaW5nCiAgICBpbXBvcnQganNvbgogICAgaW1wb3J0IGdldHBhc3MKICAgIGltcG9ydCB1cmxsaWIKICAgIGltcG9ydCBjb29raWVsaWIKICAgIGltcG9ydCByZXF1ZXN0cwogICAgaW1wb3J0IHV1aWQKICAgIGltcG9ydCBzdHJpbmcKICAgIGZyb20gbXVsdGlwcm9jZXNzaW5nLnBvb2wgaW1wb3J0IFRocmVhZFBvb2wKICAgIGZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIG9zLnN5c3RlbSgncGlwMiBpbnN0YWxsIHJlcXVlc3RzJykKCmFnZW50cyA9IFsKICAgICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBTTS1BMzEwRiBCdWlsZC9OUkQ5ME0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81NS4wLjI4ODMuOTEgTW9iaWxlIFNhZmFyaS81MzcuMzYgT1BSLzQyLjcuMjI0Ni4xMTQ5OTYnXQpiaXJ0aCA9IFsKICAgICcwMDEnLAogICAgJzAyJywKICAgICcwMycsCiAgICAnMDQnLAogICAgJzA1JywKICAgICcwNicsCiAgICAnMDcnLAogICAgJzA4JywKICAgICcwOScsCiAgICAnMTAnLAogICAgJzExJywKICAgICcxMicsCiAgICAnMTMnLAogICAgJzE0JywKICAgICcxNScsCiAgICAnMTYnLAogICAgJzE3JywKICAgICcxOCcsCiAgICAnMTknLAogICAgJzIwJywKICAgICcyMSddCmJkID0gcmFuZG9tLnJhbmRpbnQoMmUrMDcsIDNlKzA3KQpzaW0gPSByYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApCmhlYWRlciA9IHsKICAgICd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogcmVwcihiZCksCiAgICAneC1mYi1zaW0taG5pJzogcmVwcihzaW0pLAogICAgJ3gtZmItbmV0LWhuaSc6IHJlcHIoc2ltKSwKICAgICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLAogICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS4xMTQgU2FmYXJpLzUzNy4zJywKICAgICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICd1bmtub3duJywKICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJyB9CmxvZ28gPSAnXG5ceDFiWzE7OTJtXHhlMlx4OTVceDk0XHhlMlx4OTVceDk3XHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTRceDgwXHhlMlx4OTVceDk0XHhlMlx4OTVceDk3XHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3ICBceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTRceGUyXHg5NVx4OTdceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NVx4OTRceGUyXHg5NVx4OTdceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdcblx4MWJbMTs5Mm1ceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NVx4OTFceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OWRceGUyXHg5NVx4OTFceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OWRceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4OTdceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4OTdceGUyXHg5NVx4OTRceGUyXHg5NVx4OTdceGUyXHg5NVx4OTEgIFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5NFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5NFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5NFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5NFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5MVxuXHgxYlsxOzkybVx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5MVx4ZTJceDk1XHg5NFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5YVx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5MVx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MSAgXHhlMlx4OTVceDkxXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTVceDlhXHhlMlx4OTVceDk3XHhlMlx4OTVceDlhXHhlMlx4OTVceDlkXHhlMlx4OTVceDk0XHhlMlx4OTVceDlkXHhlMlx4OTVceDkxXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTRceDgwXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXG5ceDFiWzE7OTJtXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTRceDgwXHhlMlx4OTVceDk0XHhlMlx4OTVceDk3XHhlMlx4OTVceDkxXHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XHhlMlx4OTVceDkxXHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDlhXHhlMlx4OTVceDk3XHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTRceDgwXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxXHhlMlx4OTVceDkxICBceGUyXHg5NVx4OWFceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTFceGUyXHg5NFx4ODBceGUyXHg5NVx4OWFceGUyXHg5NVx4OTdceGUyXHg5NVx4OTRceGUyXHg5NVx4OWRceGUyXHg5NFx4ODBceGUyXHg5NVx4OTFceGUyXHg5NVx4OTRceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OWRceGUyXHg5NFx4ODBceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFcblx4MWJbMTs5M21ceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4OTBceGUyXHg5NVx4OWRceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4YTlceGUyXHg5NVx4OTBceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OWFceGUyXHg5NVx4OTBceGUyXHg5NVx4OTBceGUyXHg5NVx4OTdceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NFx4ODBceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OTFceGUyXHg5NVx4OTRceGUyXHg5NVx4OWRceGUyXHg5NVx4OWFceGUyXHg5NVx4OWRceGUyXHg5NVx4OTEgIFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5MVx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5MVx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5MVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5N1x4ZTJceDk1XHg5NFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5MVxuXHgxYlsxOzkybVx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5ZFx4ZTJceDk0XHg4MFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZFx4ZTJceDk1XHg5YVx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5MFx4ZTJceDk1XHg5ZCAgXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTVceDlhXHhlMlx4OTVceDlkXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkXG5ceDFiWzE7OTNtX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gXG4gXHgxYlsxOzkzbSgqKVx4MWJbMTs5Mm0gRGV2ZWxvcGVyIDogU1lFRCBTSEFXQUlaIFNIQUggXHgxYlsxOzMzbVx4ZjBceDlmXHg5NFx4YTVTWUVELVpBREFceGYwXHg5Zlx4OTRceGE1XG4gXHgxYlsxOzkzbSgqKVx4MWJbMTs5Mm0gV2hhdHNBcHAgIDogMDM0MjM2MDA3NjdcbiBceDFiWzE7OTNtKCopXHgxYlsxOzkybSBUb29sIHR5cGUgOiBDbG9uaW5nIFRvb2xcbiBceDFiWzE7OTNtKCopXHgxYlsxOzkybSBHaXRodWIgICAgOiBodHRwczovL2dpdGh1Yi5jb20vc3llZHphZGExMTAwXG5ceDFiWzE7OTNtX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4nCgpkZWYgdG9vbCgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCAnJwogICAgcHJpbnQgbG9nbwogICAgdGltZS5zbGVlcCgxKQogICAgcHJpbnQgJ0ZpcnN0IFB1dCBUb29sIFVzZXJuYW1lLi4uJy5jZW50ZXIoNTApCiAgICBwcmludCAnJwogICAgdGltZS5zbGVlcCgxKQogICAgdXNlcm5hbWUgPSByYXdfaW5wdXQoJ1srXSBUb29sIFVzZXJuYW1lIDogJykKICAgIGlmIHVzZXJuYW1lID09ICdmcmVlJzoKICAgICAgICBwcmludCAnJwogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBwcmludCAnXHgxYlsxOzkybVRvb2wgVXNlcm5hbWUgaXMgY29ycmVjdCcuY2VudGVyKDUwKQogICAgICAgIHByaW50ICcnCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHN0ZXBfbWFpbigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICcnCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHByaW50ICdceDFiWzE7OTFtVG9vbCBVc2VybmFtZSBJcyBJbnZhbGlkIDopICcuY2VudGVyKDUwKQogICAgICAgIHByaW50ICcnCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHRvb2woKQoKCmRlZiBzdGVwX21haW4oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJycKICAgIHRpbWUuc2xlZXAoMSkKICAgIHByaW50ICdGaXJzdCBQdXQgVG9vbCBQYXNzd29yZC4uLicuY2VudGVyKDUwKQogICAgcHJpbnQgJycKICAgIHRpbWUuc2xlZXAoMSkKICAgIHVzZXJuYW1lID0gcmF3X2lucHV0KCdbK10gVG9vbCBQYXNzd29yZCA6ICcpCiAgICBpZiB1c2VybmFtZSA9PSAnZnJlZSc6CiAgICAgICAgcHJpbnQgJycKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1Ub29sIFBhc3N3b3JkIGlzIGNvcnJlY3QnLmNlbnRlcig1MCkKICAgICAgICBwcmludCAnJwogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBtYWluKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJycKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1Ub29sIFBhc3N3b3JkIElzIEludmFsaWQgOikgJy5jZW50ZXIoNTApCiAgICAgICAgcHJpbnQgJycKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgc3RlcF9tYWluKCkKCgpkZWYgbWFpbigpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCBsb2dvCiAgICBwcmludCAnIFx0IFtceDFiWzE7OTdtXHgxYlsxOzQxbSAgIElmIEFueSBQcm9ibGVtIFNvIENvbnRhY3QgTWUgICBceDFiWzBtXHgxYlsxOzkzbV0nLmNlbnRlcig1MCkKICAgIHByaW50IDU0ICogJ1x4MWJbMTs5M21fJwogICAgcHJpbnQgJycKICAgIHByaW50IDQ3ICogJ1x4MWJbMTs5M21ceGUyXHg5Nlx4YWMnCiAgICBwcmludCAnXHgxYlsxOzkzbVsxXSBceDFiWzE7OTJtU3RhcnQgQ2xvbmluZy4uLi4nCiAgICBwcmludCAnXHgxYlsxOzkzbVsyXSBceDFiWzE7OTJtQ29udGFjdCBPd25lciBPbiBGYWNlYm9vaycKICAgIHByaW50ICdceDFiWzE7OTNtWzNdIFx4MWJbMTs5Mm1Db250YWN0IE93bmVyIE9uIFdoYXRzQXBwJwogICAgcHJpbnQgJ1x4MWJbMTs5M21bNF0gXHgxYlsxOzkybWpvaW4gT3VyIEZhY2Vib29rIEdyb3VwICcKICAgIHByaW50ICdceDFiWzE7OTNtWzBdIFx4MWJbMTs5Mm1FeGl0JwogICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbVx4ZTJceDk2XHhhYycKICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3N5ZWRzaGF3YWl6c2hhaDY1NScpCiAgICBtYWluX3NlbGVjdCgpCgoKZGVmIG1haW5fc2VsZWN0KCk6CiAgICBTWUVEID0gcmF3X2lucHV0KCdcblx4MWJbMTs5M21DaG9vc2UgT3B0aW9uIFx4ZTJceDg5XHhiYiBceDFiWzE7OTJtJykKICAgIGlmIFNZRUQgPT0gJyc6CiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21GaWxsIGluIGNvcnJlY3RseScKICAgICAgICBtYWluKCkKICAgIGVsaWYgU1lFRCA9PSAnMSc6CiAgICAgICAgbG9naW4oKQogICAgZWxpZiBTWUVEID09ICcyJzoKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zeWVkc2hhd2FpenNoYWg2NTUnKQogICAgICAgIG1haW4oKQogICAgZWxpZiBTWUVEID09ICczJzoKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vYXBpLndoYXRzYXBwLmNvbS9zZW5kLz9waG9uZT0lMkI5MjAzNDIzNjAwNzY3JnRleHQmYXBwX2Fic2VudD0wJykKICAgICAgICBtYWluKCkKICAgIGVsaWYgU1lFRCA9PSAnNCc6CiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vZ3JvdXBzLzEwMjQ0NzEzMzE2ODkzMzcnKQogICAgICAgIG1haW4oKQogICAgZWxpZiBTWUVEID09ICcwJzoKICAgICAgICBvcy5zeXN0ZW0oJ2V4aXQnKQogICAgZWxzZToKICAgICAgICBwcmludCAnXHgxYlsxOzkxbVshXSBQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uJy5jZW50ZXIoNTApCiAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgIG1haW4oKQoKCmRlZiBsb2dpbigpOgogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgICAgICBtZW51KCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICcgICAgXHQgW1x4MWJbMTs5N21ceDFiWzE7NDFtICAgTG9naW4gbWVudSAgIFx4MWJbMG1ceDFiWzE7OTNtXScuY2VudGVyKDUwKQogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbVx4ZTJceDk2XHhhYycKICAgICAgICBwcmludCAnXHgxYlsxOzkzbVsxXSBceDFiWzE7OTJtTG9naW4gV2l0aCBGYiBUb2tlblxuJwogICAgICAgIHByaW50ICdceDFiWzE7OTNtWzJdIFx4MWJbMTs5Mm1Mb2dpbiBXaXRoIEZiIGlkL3Bhc3NcbicKICAgICAgICBwcmludCAnXHgxYlsxOzkzbVszXSBceDFiWzE7OTJtV2l0aG91dCBMb2dpbiBDbG9uaW5nXG4nCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bNF0gXHgxYlsxOzkybUJhY2sgJwogICAgICAgIHByaW50IDQ3ICogJ1x4MWJbMTs5M21ceGUyXHg5Nlx4YWMnCiAgICAgICAgcHJpbnQgJycKICAgICAgICBsb2dfc2VsZWN0KCkKCgoKZGVmIGxvZ19zZWxlY3QoKToKICAgIHNlbCA9IHJhd19pbnB1dCgnQ2hvb3NlIG9wdGlvbjogXHgxYlsxOzkybScpCiAgICBpZiBzZWwgPT0gJzInOgogICAgICAgIGxvZ19mYigpCiAgICBlbGlmIHNlbCA9PSAnMSc6CiAgICAgICAgdG9rZW4oKQogICAgZWxpZiBzZWwgPT0gJzMnOgogICAgICAgIG9zLnN5c3RlbSgncHl0aG9uMiB3aXRob3V0LnB5JykKICAgIGVsaWYgc2VsID09ICc0JzoKICAgICAgICBtYWluKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRTZWxlY3QgdmFsaWQgb3B0aW9uJwogICAgICAgIHByaW50ICcnCiAgICAgICAgbG9nX3NlbGVjdCgpCgoKZGVmIGxvZ19mYigpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAKICAgIHRyeToKICAgICAgICB0b2tlbiA9IG9wZW4oJ2FjY2Vzc190b2tlbi50eHQnLCAncicpLnJlYWQoKQogICAgICAgIG1lbnUoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXHQgICAgICAgIFtceDFiWzE7OTdtXHgxYlsxOzQxbSAgUHV0IEZhY2Vib29rIGlkL3Bhc3MgIFx4MWJbMG1ceDFiWzE7OTNtXScuY2VudGVyKDUwKQogICAgICAgIHByaW50ICcnCiAgICAgICAgdWlkID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIEVtYWlsOiBceDFiWzE7OTNtJykKICAgICAgICBwcmludCAnJwogICAgICAgIHBhc3N3ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIFBhc3N3b3JkOiBceDFiWzE7OTNtJykKICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0nICsgdWlkICsgJyZwYXNzd29yZD0nICsgcGFzc3cgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZ1c2VyLWFnZW50PURhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgNi4wLjE7IFNNLUo3MDBGIEJ1aWxkL01NQjI5SykgW0ZCQU4vT3JjYS1BbmRyb2lkO0ZCQVYvMTgxLjAuMC4xMi43ODtGQlBOL2NvbS5mYWNlYm9vay5vcmNhO0ZCTEMvdHJfVFI7RkJCVi8xMjIyMTYzNjQ7RkJDUi9UdXJrIFRlbGVrb207RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQkRWL1NNLUo3MDBGO0ZCU1YvNi4wLjE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO0ZCRE17ZGVuc2l0eT0zLjAsd2lkdGg9OTAwLGhlaWdodD0xNjAwfSZjcGw9dHJ1ZScsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgIHNhdiA9IG9wZW4oJ2FjY2Vzc190b2tlbi50eHQnLCAndycpCiAgICAgICAgICAgIHNhdi53cml0ZShxWydhY2Nlc3NfdG9rZW4nXSkKICAgICAgICAgICAgc2F2LmNsb3NlKCkKICAgICAgICAgICAgbWVudSgpCiAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXToKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcHJpbnQgJ1x0XHgxYlsxOzkxbUFjY291bnQgaGFzIGNoZWNrcG9pbnQnCiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAgICAgbG9naW4oKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgICAgIHByaW50ICdcdFx4MWJbMTs5MW1JZC9wYXNzIG15IGJlIHdyb25nJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCgoKCmRlZiB0b2tlbigpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAKICAgIHRyeToKICAgICAgICB0b2tlbiA9IG9wZW4oJ2FjY2Vzc190b2tlbi50eHQnLCAncicpLnJlYWQoKQogICAgICAgIG1lbnUoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXHQgICAgICAgIFtceDFiWzE7OTdtXHgxYlsxOzQxbSAgUGFzdGUgVG9rZW4gIFx4MWJbMG1ceDFiWzE7OTNtXScuY2VudGVyKDUwKQogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJycKICAgICAgICB0b2tlbiA9IHJhd19pbnB1dCgnIFx4MWJbMTs5Mm1bK10gVG9rZW4gOiBceDFiWzE7OTNtJykKICAgICAgICBzYXYgPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3cnKQogICAgICAgIHNhdi53cml0ZSh0b2tlbikKICAgICAgICBzYXYuY2xvc2UoKQogICAgICAgIGxvZ2luKCkKCgoKZGVmIG1lbnUoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIGxvZ2luKCkKCiAgICAKICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQogICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBuYW1lID0gcVsnbmFtZSddCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1cdCBZb3VyIFRva2VuIExvZ2dlZCBpbiBTdWNzZXNzZnVseScKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1cdCBMb2dnZWQgaW4gdG9rZW4gaGFzIGV4cGlyZWQnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgYWNjZXNzX3Rva2VuLnR4dCcpCiAgICAgICAgcHJpbnQgJycKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgbG9naW4oKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJyBcdCAgICAgICBXZWxsY29tZSA6XHgxYlsxOzkybSAnICsgbmFtZQogICAgcHJpbnQgNTQgKiAnXHgxYlsxOzkzbV8nCiAgICBwcmludCAnJwogICAgcHJpbnQgJyBcdCAgICAgICBbXHgxYlsxOzk3bVx4MWJbMTs0MW0gIENob29zZSBtZXRob2QgIFx4MWJbMG1ceDFiWzE7OTNtXScuY2VudGVyKDUwKQogICAgcHJpbnQgJycKICAgIHByaW50IDQ3ICogJ1x4MWJbMTs5M21ceGUyXHg5Nlx4YWMnCiAgICBwcmludCAnXHgxYlsxOzkzbVsxXSBceDFiWzE7OTJtQ1JBQ0sgV0lUSCBBVVRPIFBBU1NcbicKICAgIHByaW50ICdceDFiWzE7OTNtWzJdIFx4MWJbMTs5Mm1DUkFDSyBXSVRIIENIT0lDRSBESUdJVCBQQVNTXG4nCiAgICBwcmludCAnXHgxYlsxOzkzbVszXSBceDFiWzE7OTJtQkFDSycKICAgIHByaW50IDQ3ICogJ1x4MWJbMTs5M21ceGUyXHg5Nlx4YWMnCiAgICBwcmludCAnJwogICAgbWVudV9vcHRpb24oKQoKCmRlZiBtZW51X29wdGlvbigpOgogICAgc2VsZWN0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtQ2hvb3NlIG9wdGlvbjogXHgxYlsxOzkzbScpCiAgICBpZiBzZWxlY3QgPT0gJzEnOgogICAgICAgIGNyYWNrKCkKICAgIGVsaWYgc2VsZWN0ID09ICcyJzoKICAgICAgICBjaG9pY2UoKQogICAgZWxpZiBzZWxlY3QgPT0gJzMnOgogICAgICAgIG1haW4oKQogICAgZWxzZToKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdFNlbGVjdCB2YWxpZCBvcHRpb24nCiAgICAgICAgcHJpbnQgJycKICAgICAgICBtZW51X29wdGlvbigpCgoKZGVmIGNyYWNrKCk6CiAgICBnbG9iYWwgdG9rZW4KICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0VG9rZW4gbm90IGZvdW5kICcKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgbG9naW5fY2hvaWNlKCkKCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50ICcnCiAgICBwcmludCAnJwogICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbVx4ZTJceDk2XHhhYycKICAgIHByaW50ICdceDFiWzE7OTNtWzFdIFx4MWJbMTs5Mm1DUkFDSyBGUk9NIFBVQkxJQyBJRCAgICAgXHgxYlsxOzkxbVsgQ3JhY2sgMyBsaW5rcyBdXG4nCiAgICBwcmludCAnXHgxYlsxOzkzbVsyXSBceDFiWzE7OTJtQ1JBQ0sgRlJPTSBGT0xMT1dFUlMgSUQgIFx4MWJbMTs5MW1bIENyYWNrIDMgbGlua3MgXVxuJwogICAgcHJpbnQgJ1x4MWJbMTs5M21bMF0gXHgxYlsxOzkybUJBQ0snCiAgICBwcmludCA0NyAqICdceDFiWzE7OTNtXHhlMlx4OTZceGFjJwogICAgcHJpbnQgJycKICAgIGNyYWNrX3NlbGVjdCgpCgoKZGVmIGNyYWNrX3NlbGVjdCgpOgogICAgc2VsZWN0ID0gcmF3X2lucHV0KCdceDFiWzE7OTNtQ2hvb3NlIG9wdGlvbjogXHgxYlsxOzkybScpCiAgICBpZCA9IFtdCiAgICBva3MgPSBbXQogICAgY3BzID0gW10KICAgIGlmIHNlbGVjdCA9PSAnMSc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXHQgICAgICAgW1x4MWJbMTs5N21ceDFiWzE7NDFtICBQdXQgMyBpZHp6IExpbmtzICBceDFiWzBtXHgxYlsxOzkzbV0nLmNlbnRlcig1MCkKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICcnCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIElucHV0IGlkIFsxXSA6IFx4MWJbMTs5M20nKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcHJpbnQgJ1x0ICAgIFx4MWJbMTszMW1Mb2dnZWQgaW4gaWQgaGFzIGNoZWNrcG9pbnRceDFiWzA7OTdtJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrJykKICAgICAgICAgICAgY2hvaWNlKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuLCBoZWFkZXJzID0gaGVhZGVyKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIElucHV0IGlkIFsyXSA6IFx4MWJbMTs5M20nKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcHJpbnQgJ1x0ICAgIFx4MWJbMTszMW1Mb2dnZWQgaW4gaWQgaGFzIGNoZWNrcG9pbnRceDFiWzA7OTdtJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrJykKICAgICAgICAgICAgY2hvaWNlKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuLCBoZWFkZXJzID0gaGVhZGVyKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIElucHV0IGlkIFszXSA6IFx4MWJbMTs5M20nKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcHJpbnQgJ1x0ICAgIFx4MWJbMTszMW1Mb2dnZWQgaW4gaWQgaGFzIGNoZWNrcG9pbnRceDFiWzA7OTdtJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrJykKICAgICAgICAgICAgY2hvaWNlKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuLCBoZWFkZXJzID0gaGVhZGVyKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICBlbGlmIHNlbGVjdCA9PSAnMic6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXHQgICAgICAgW1x4MWJbMTs5N21ceDFiWzE7NDFtICBQdXQgMyBpZHp6IExpbmtzICBceDFiWzBtXHgxYlsxOzkzbV0nLmNlbnRlcig1MCkKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICcnCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIElucHV0IGlkIFsxXSA6IFx4MWJbMTs5M20nKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcHJpbnQgJ1x0SW52YWxpZCBpZCBsaW5rIE9SIHRva2VuJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrJykKICAgICAgICAgICAgY2hvaWNlKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmbGltaXQ9OTk5OTk5JykKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOgogICAgICAgICAgICB1aWQgPSBpWydpZCddCiAgICAgICAgICAgIG5hID0gaVsnbmFtZSddCiAgICAgICAgICAgIG5tID0gbmEucnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5tKQogICAgICAgIAogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzkybVsrXSBJbnB1dCBpZCBbMl0gOiBceDFiWzE7OTNtJykKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdEludmFsaWQgaWQgbGluayBPUiB0b2tlbicKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICAgICAgICAgIGNob2ljZSgpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJmxpbWl0PTk5OTk5OScpCiAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGZvciBpIGluIHpbJ2RhdGEnXToKICAgICAgICAgICAgdWlkID0gaVsnaWQnXQogICAgICAgICAgICBuYSA9IGlbJ25hbWUnXQogICAgICAgICAgICBubSA9IG5hLnJzcGxpdCgnICcpWzBdCiAgICAgICAgICAgIGlkLmFwcGVuZCh1aWQgKyAnfCcgKyBubSkKICAgICAgICAKICAgICAgICBpZHQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Mm1bK10gSW5wdXQgaWQgWzNdIDogXHgxYlsxOzkzbScpCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQogICAgICAgICAgICBxID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICBwcmludCBsb2dvCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBwcmludCAnXHRJbnZhbGlkIGlkIGxpbmsgT1IgdG9rZW4nCiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgICAgIHJhd19pbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2snKQogICAgICAgICAgICBjaG9pY2UoKQoKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJy9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZsaW1pdD05OTk5OTknKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICBlbGlmIHNlbGVjdCA9PSAnMCc6CiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0U2VsZWN0IHZhbGlkIG9wdGlvbicKICAgICAgICBwcmludCAnJwogICAgICAgIGNyYWNrX3NlbGVjdCgpCiAgICBwcmludCAnIFx4MWJbMTs5M21Ub3RhbCBJRHMgOlx4MWJbMTs5Mm0gJyArIHN0cihsZW4oaWQpKQogICAgcHJpbnQgJyBceDFiWzE7OTNtVGhlIHByb2Nlc3MgaGFzIGJlZW4gU3RhcnRlZCcKICAgIHByaW50ICcgXHgxYlsxOzkzbVBsenogd2FpdCB0byBjcmFjayBpZHp6JwogICAgcHJpbnQgJyBceDFiWzE7OTNtUHJlc3MgY3RybCArIHogdG8gc3RvcCcKICAgIHByaW50IDU0ICogJ18nCiAgICBwcmludCAnJwogICAgcHJpbnQgJ1tceDFiWzE7OTdtXHgxYlsxOzQxbSBGb3IgU3BlZWR1cCBDbG9uaW5nIFR1cm4gT24gQWlycGxhbmUgbW9kZSA1IFNlY29uZCBceDFiWzBtXHgxYlsxOzkzbV0nCiAgICBwcmludCA1NCAqICdceDFiWzE7OTNtXycKICAgIHByaW50ICcnCiAgICAKICAgIGRlZiBtYWluKGFyZyk6CiAgICAgICAgdXNlciA9IGFyZwogICAgICAgICh1aWQsIG5hbWUpID0gdXNlci5zcGxpdCgnfCcpCiAgICAgICAgcmFuYWdlbnQgPSByYW5kb20uY2hvaWNlKGFnZW50cykKICAgICAgICBiaXJhbiA9IHJhbmRvbS5jaG9pY2UoYmlydGgpCiAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgIHNlc3Npb24uaGVhZGVycy51cGRhdGUoewogICAgICAgICAgICAnVXNlci1BZ2VudCc6IHJhbmFnZW50IH0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwYXNzMSA9IG5hbWUubG93ZXIoKSArICcxMjMnCiAgICAgICAgICAgIGRhdGEgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9JyArIHVpZCArICcmcGFzc3dvcmQ9JyArIHBhc3MxICsgJyZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0CiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtMRUdFTkQtU1lFRC1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczEgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgIG9rID0gb3BlbignU3llZG9rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bTEVHRU5ELVNZRUQtQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ1N5ZWRjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFzczIgPSBuYW1lLmxvd2VyKCkgKyAnMTIzNCcKICAgICAgICAgICAgICAgIGRhdGEgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9JyArIHVpZCArICcmcGFzc3dvcmQ9JyArIHBhc3MyICsgJyZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0CiAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtMRUdFTkQtU1lFRC1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczIgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bTEVHRU5ELVNZRUQtQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3MyICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBuYW1lLmxvd2VyKCkgKyAnMTIzNDUnCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0nICsgdWlkICsgJyZwYXNzd29yZD0nICsgcGFzczMgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZScsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0xFR0VORC1TWUVELU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMyArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbVtMRUdFTkQtU1lFRC1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IG5hbWUubG93ZXIoKSArICc3ODYnCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9JyArIHVpZCArICcmcGFzc3dvcmQ9JyArIHBhc3M0ICsgJyZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtMRUdFTkQtU1lFRC1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczQgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignU3llZG9rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bTEVHRU5ELVNZRUQtQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ1N5ZWRjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSAnNzg2Nzg2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0nICsgdWlkICsgJyZwYXNzd29yZD0nICsgcGFzczUgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZScsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0xFR0VORC1TWUVELU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNSArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignU3llZG9rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNSArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbVtMRUdFTkQtU1lFRC1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczUgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ1N5ZWRjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczUgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNiA9ICdwYWtpc3RhbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyB1aWQgKyAnJnBhc3N3b3JkPScgKyBwYXNzNiArICcmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycyA9IGhlYWRlcikudGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bTEVERU5ELVNZRUQtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M2ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignU3llZG9rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczYgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW0xFR0VORC1TWUVELUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNiArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ1N5ZWRjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M3ID0gJ3Bha2lzdGFuMTIzJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyB1aWQgKyAnJnBhc3N3b3JkPScgKyBwYXNzNyArICcmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycyA9IGhlYWRlcikudGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bTEVHRU5ELVNZRUQtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M3ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW0xFR0VORC1TWUVELUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNyArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczcgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICAKCgogICAgcCA9IFRocmVhZFBvb2woMzApCiAgICBwLm1hcChtYWluLCBpZCkKICAgIHByaW50ICcnCiAgICBwcmludCAnJwogICAgcHJpbnQgNTQgKiAnXHgxYlsxOzkybV8nCiAgICBwcmludCAnJwogICAgcHJpbnQgJyBceDFiWzE7OTJtVGhlIHByb2Nlc3MgaGFzIGJlZW4gY29tcGxldGVkJwogICAgcHJpbnQgJyBceDFiWzE7OTJtVG90YWwgT2svQ3A6ICcgKyBzdHIobGVuKG9rcykpICsgJy8nICsgc3RyKGxlbihjcHMpKQogICAgcHJpbnQgJyBceDFiWzE7OTJtTm90ZTogQ2xvbmUgQWNjb3VudCBTYXZlZCBTZGNhcmQgRm9sZGVyOiBTeWVkY3AudHh0JwogICAgcHJpbnQgNTQgKiAnXycKICAgIHByaW50ICcnCiAgICBwcmludCAnJwogICAgcmF3X2lucHV0KCcgXHgxYlsxOzkzbSBQcmVzcyBlbnRlciB0byBiYWNrICcpCiAgICBtZW51KCkKCgpkZWYgY2hvaWNlKCk6CiAgICBnbG9iYWwgdG9rZW4KICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0VG9rZW4gbm90IGZvdW5kJwogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBsb2dpbl9jaG9pY2UoKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJycKICAgIHByaW50IDQ3ICogJ1x4MWJbMTs5M21ceGUyXHg5Nlx4YWMnCiAgICBwcmludCAnXHgxYlsxOzkzbVsxXSBceDFiWzE7OTJtQ1JBQ0sgRlJPTSBQVUJMSUMgSUQgICAgIFx4MWJbMTs5MW1bIENyYWNrIDMgbGlua3MgXVxuJwogICAgcHJpbnQgJ1x4MWJbMTs5M21bMl0gXHgxYlsxOzkybUNSQUNLIEZST00gRk9MTE9XRVJTIElEICBceDFiWzE7OTFtWyBDcmFjayAzIGxpbmtzIF1cbicKICAgIHByaW50ICdceDFiWzE7OTNtWzBdIFx4MWJbMTs5Mm1CQUNLJwogICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbVx4ZTJceDk2XHhhYycKICAgIHByaW50ICcnCiAgICBjaG9pY2Vfc2VsZWN0KCkKCgpkZWYgY2hvaWNlX3NlbGVjdCgpOgogICAgc2VsZWN0ID0gcmF3X2lucHV0KCdceDFiWzE7OTNtQ2hvb3NlIG9wdGlvbjogXHgxYlsxOzkybScpCiAgICBpZCA9IFtdCiAgICBva3MgPSBbXQogICAgY3BzID0gW10KICAgIGlmIHNlbGVjdCA9PSAnMSc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXHQgIFtceDFiWzE7OTdtXHgxYlsxOzQxbSAgUHV0IDcgcGFzc3dvcmRzIEFuZCAzIGlkenogTGluayAgXHgxYlswbVx4MWJbMTs5M21dJwogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJycKICAgICAgICBwYXNzMSA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbMV0gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzMiA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbMl0gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzMyA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbM10gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzNCA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbNF0gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzNSA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbNV0gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzNiA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbNl0gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwYXNzNyA9IHJhd19pbnB1dCgnXHgxYlsxOzkzbVsrXSBQYXNzd29yZCBbN10gOlx4MWJbMTs5Mm0gJykKICAgICAgICBwcmludCAnJwogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzkybVsrXSBJbnB1dCBpZCBbMV0gOiBceDFiWzE7OTNtJykKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4sIGhlYWRlcnMgPSBoZWFkZXIpCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdCAgICBceDFiWzE7MzFtTG9nZ2VkIGluIGlkIGhhcyBjaGVja3BvaW50XHgxYlswOzk3bScKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICAgICAgICAgIGNob2ljZSgpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOgogICAgICAgICAgICB1aWQgPSBpWydpZCddCiAgICAgICAgICAgIG5hID0gaVsnbmFtZSddCiAgICAgICAgICAgIG5tID0gbmEucnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5tKQogICAgICAgIAogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzkybVsrXSBJbnB1dCBpZCBbMl0gOiBceDFiWzE7OTNtJykKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4sIGhlYWRlcnMgPSBoZWFkZXIpCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdCAgICBceDFiWzE7MzFtTG9nZ2VkIGluIGlkIGhhcyBjaGVja3BvaW50XHgxYlswOzk3bScKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICAgICAgICAgIGNob2ljZSgpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOgogICAgICAgICAgICB1aWQgPSBpWydpZCddCiAgICAgICAgICAgIG5hID0gaVsnbmFtZSddCiAgICAgICAgICAgIG5tID0gbmEucnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5tKQogICAgICAgIAogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzkybVsrXSBJbnB1dCBpZCBbM10gOiBceDFiWzE7OTNtJykKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4sIGhlYWRlcnMgPSBoZWFkZXIpCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgICAgIHByaW50IGxvZ28KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdCAgICBceDFiWzE7MzFtTG9nZ2VkIGluIGlkIGhhcyBjaGVja3BvaW50XHgxYlswOzk3bScKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICAgICAgICAgIGNob2ljZSgpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgaGVhZGVycyA9IGhlYWRlcikKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOgogICAgICAgICAgICB1aWQgPSBpWydpZCddCiAgICAgICAgICAgIG5hID0gaVsnbmFtZSddCiAgICAgICAgICAgIG5tID0gbmEucnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5tKQogICAgICAgIAogICAgZWxpZiBzZWxlY3QgPT0gJzInOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAnIFx0ICBbXHgxYlsxOzk3bVx4MWJbMTs0MW0gIFB1dCA3IHBhc3N3b3JkcyBBbmQgMyBpZHp6IExpbmsgIFx4MWJbMG1ceDFiWzE7OTNtXScKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICcnCiAgICAgICAgcGFzczEgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzFdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczIgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzJdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczMgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzNdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzRdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczUgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzVdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczYgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzZdIDpceDFiWzE7OTJtICcpCiAgICAgICAgcGFzczcgPSByYXdfaW5wdXQoJ1x4MWJbMTs5M21bK10gUGFzc3dvcmQgWzddIDpceDFiWzE7OTJtICcpCiAgICAgICAgcHJpbnQgJycKICAgICAgICBpZHQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Mm1bK10gSW5wdXQgaWQgWzFdIDogXHgxYlsxOzkzbScpCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQogICAgICAgICAgICBxID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBwcmludCAnXHRJbnZhbGlkIGlkIGxpbmsnCiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgICAgIHJhd19pbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2snKQogICAgICAgICAgICBjaG9pY2UoKQoKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJy9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZsaW1pdD05OTk5OTknKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWytdIElucHV0IGlkIFsyXSA6IFx4MWJbMTs5M20nKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcHJpbnQgJ1x0SW52YWxpZCBpZCBsaW5rJwogICAgICAgICAgICBwcmludCAnJwogICAgICAgICAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrJykKICAgICAgICAgICAgY2hvaWNlKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmbGltaXQ9OTk5OTk5JykKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOgogICAgICAgICAgICB1aWQgPSBpWydpZCddCiAgICAgICAgICAgIG5hID0gaVsnbmFtZSddCiAgICAgICAgICAgIG5tID0gbmEucnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5tKQogICAgICAgIAogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzkybVsrXSBJbnB1dCBpZCBbM10gOiBceDFiWzE7OTNtJykKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgICAgIHByaW50IGxvZ28KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdEludmFsaWQgaWQgbGluaycKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICAgICAgICAgIGNob2ljZSgpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJmxpbWl0PTk5OTk5OScpCiAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGZvciBpIGluIHpbJ2RhdGEnXToKICAgICAgICAgICAgdWlkID0gaVsnaWQnXQogICAgICAgICAgICBuYSA9IGlbJ25hbWUnXQogICAgICAgICAgICBubSA9IG5hLnJzcGxpdCgnICcpWzBdCiAgICAgICAgICAgIGlkLmFwcGVuZCh1aWQgKyAnfCcgKyBubSkKICAgICAgICAKICAgIGVsaWYgc2VsZWN0ID09ICcwJzoKICAgICAgICBtZW51KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRTZWxlY3QgdmFsaWQgb3B0aW9uXHgxYlswOzk3bScKICAgICAgICBwcmludCAnJwogICAgICAgIGNob2ljZV9zZWxlY3QoKQogICAgcHJpbnQgJyBceDFiWzE7OTNtVG90YWwgSURzIDpceDFiWzE7OTJtICcgKyBzdHIobGVuKGlkKSkKICAgIHByaW50ICcgXHgxYlsxOzkzbVRoZSBwcm9jZXNzIGhhcyBiZWVuIFN0YXJ0ZWQnCiAgICBwcmludCAnIFx4MWJbMTs5M21QbHp6IHdhaXQgdG8gY3JhY2sgaWR6eicKICAgIHByaW50ICcgXHgxYlsxOzkzbVByZXNzIGN0cmwgKyB6IHRvIHN0b3AnCiAgICBwcmludCA1NCAqICdfJwogICAgcHJpbnQgJycKICAgIHByaW50ICdbXHgxYlsxOzk3bVx4MWJbMTs0MW0gRm9yIFNwZWVkdXAgQ2xvbmluZyBUdXJuIE9uIEFpcnBsYW5lIG1vZGUgNSBTZWNvbmQgXHgxYlswbVx4MWJbMTs5M21dJwogICAgcHJpbnQgNTQgKiAnXHgxYlsxOzkzbV8nCiAgICBwcmludCAnJwogICAgCiAgICBkZWYgbWFpbihhcmcpOgogICAgICAgIHVzZXIgPSBhcmcKICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQogICAgICAgIHJhbmFnZW50ID0gcmFuZG9tLmNob2ljZShhZ2VudHMpCiAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgIHNlc3Npb24uaGVhZGVycy51cGRhdGUoewogICAgICAgICAgICAnVXNlci1BZ2VudCc6IHJhbmFnZW50IH0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkYXRhID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyB1aWQgKyAnJnBhc3N3b3JkPScgKyBwYXNzMSArICcmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycyA9IGhlYWRlcikudGV4dAogICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bTEVHRU5ELVNZRUQtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW0xFR0VORC1TWUVELUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMSArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczEgKyAnXG4nKQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGRhdGEgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9JyArIHVpZCArICcmcGFzc3dvcmQ9JyArIHBhc3MyICsgJyZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0CiAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtMRUdFTkQtU1lFRC1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczIgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bTEVHRU5ELVNZRUQtQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3MyICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0nICsgdWlkICsgJyZwYXNzd29yZD0nICsgcGFzczMgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZScsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0xFR0VORC1TWUVELU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMyArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbVtMRUdFTkQtU1lFRC1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyB1aWQgKyAnJnBhc3N3b3JkPScgKyBwYXNzNCArICcmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycyA9IGhlYWRlcikudGV4dAogICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bTEVHRU5ELVNZRUQtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW0xFR0VORC1TWUVELUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNCArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczQgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9JyArIHVpZCArICcmcGFzc3dvcmQ9JyArIHBhc3M1ICsgJyZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtMRUdFTkQtU1lFRC1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczUgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczUgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21bTEVHRU5ELVNZRUQtQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3M1ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0nICsgdWlkICsgJyZwYXNzd29yZD0nICsgcGFzczYgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZScsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0xFR0VORC1TWUVELU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNiArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbVtMRUdFTkQtU1lFRC1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczYgKyAnIHwgJyArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyB1aWQgKyAnJnBhc3N3b3JkPScgKyBwYXNzNyArICcmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycyA9IGhlYWRlcikudGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bTEVHRU5ELVNZRUQtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M3ICsgJyB8ICcgKyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ1N5ZWRvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW0xFR0VORC1TWUVELUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNyArICcgfCAnICsgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdTeWVkY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczcgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICAKCgogICAgcCA9IFRocmVhZFBvb2woMzApCiAgICBwLm1hcChtYWluLCBpZCkKICAgIHByaW50ICcnCiAgICBwcmludCAnJwogICAgcHJpbnQgNTQgKiAnXHgxYlsxOzkybV8nCiAgICBwcmludCAnJwogICAgcHJpbnQgJyBceDFiWzE7OTJtVGhlIHByb2Nlc3MgaGFzIGJlZW4gY29tcGxldGVkJwogICAgcHJpbnQgJyBceDFiWzE7OTJtVG90YWwgT2svQ3A6ICcgKyBzdHIobGVuKG9rcykpICsgJy8nICsgc3RyKGxlbihjcHMpKQogICAgcHJpbnQgJyBceDFiWzE7OTJtTm90ZTogQ2xvbmUgQWNjb3VudCBTYXZlZCBTZGNhcmQgRm9sZGVyOiBTeWVkY3AudHh0JwogICAgcHJpbnQgNTQgKiAnXycKICAgIHByaW50ICcnCiAgICBwcmludCAnJwogICAgcmF3X2lucHV0KCcgXHgxYlsxOzkzbVByZXNzIGVudGVyIHRvIGJhY2sgJykKICAgIG1haW4oKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHRvb2woKQo="))
